/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{350:function(t,e,n){var content=n(354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("537eb6ce",content,!0,{sourceMap:!1})},351:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-4"},[e("img",{attrs:{src:n(352)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"copyright"},[this._v("CONSTRUCTORES POSITIVOS"),e("br"),this._v("2020")])}],r={},c=(n(353),n(18)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",[n("div",{staticClass:"row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6"},[n("nuxt-link",{attrs:{to:"/"}},[t._v("ENCUENTRA LA CASA DE TUS SUEÑOS")]),t._v(" "),n("nuxt-link",{attrs:{to:"/visyvip"}},[t._v("PROYECTOS VIS Y VIP")]),t._v(" "),n("nuxt-link",{attrs:{to:"/insumos"}},[t._v("MATERIALES PARA LA REMODELACIÓN")])],1),t._v(" "),n("div",{staticClass:"col-sm-6"},[n("nuxt-link",{attrs:{to:"/calculadorafinanciera"}},[t._v("CALCULADORA DE CRÉDITO")]),t._v(" "),n("nuxt-link",{attrs:{to:"/quienes_somos"}},[t._v("QUIENES SOMOS")]),t._v(" "),n("nuxt-link",{attrs:{to:"/blog"}},[t._v("BLOG Y NOTICIAS")])],1)])]),t._v(" "),n("div",{staticClass:"col-sm-4"},[n("div",{staticClass:"social_links"},[n("div",{staticClass:"social_link fb"},[n("a",{attrs:{href:"https://www.facebook.com/constructurespositivosecuador",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:["fab","facebook"]}})],1)]),t._v(" "),n("div",{staticClass:"social_link ig"},[n("a",{attrs:{href:"https://www.instagram.com/constructorespositivos/?igshid=q4jnx0yhs6yv",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:["fab","instagram"]}})],1)]),t._v(" "),n("div",{staticClass:"social_link twitter"},[n("a",{attrs:{href:"https://twitter.com/Construpositivo",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitter"]}})],1)])])])])]),t._v(" "),t._m(1)])}),o,!1,null,"a1aac506",null);e.default=component.exports;installComponents(component,{Footer:n(351).default})},352:function(t,e,n){t.exports=n.p+"img/footer_registra_proyecto.382e4dc.png"},353:function(t,e,n){"use strict";var o=n(350);n.n(o).a},354:function(t,e,n){(e=n(35)(!1)).push([t.i,"footer[data-v-a1aac506]{width:100%;background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);padding:20px 80px}footer img[data-v-a1aac506]{width:100%;max-width:422px}footer a[data-v-a1aac506]{display:block;color:#fff;font-weight:700}.social_link[data-v-a1aac506]{display:inline-block;margin:0 10px;color:#fff}.copyright[data-v-a1aac506]{margin-top:10px;margin-bottom:10px;text-align:center;font-size:13px}.social_link[data-v-a1aac506]{font-size:24px}@media only screen and (max-width:641px){a[data-v-a1aac506]{font-size:14px;margin:4px 0}}",""]),t.exports=e},355:function(t,e,n){t.exports=n.p+"img/banner1.67bdb63.jpg"},357:function(t,e,n){"use strict";var o={created:function(){"undefined"!=typeof document&&c(this,(function(t,e){var n,o,c,d;n=document,o=t,c=e,d=r?{passive:!1}:void 0,n.addEventListener(o,c,d)}))},beforeDestroy:function(){"undefined"!=typeof document&&c(this,(function(t,e){var n,o,c,d;n=document,o=t,c=e,d=r?{passive:!1}:void 0,n.removeEventListener(o,c,d)}))}},r="undefined"!=typeof window&&function(){var t=!1;try{var desc={get:function(){t=!0}},e=Object.defineProperty({},"passive",desc);window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}();function c(t,e){var n=t.$options.events;Object.keys(n).forEach((function(o){e(o,(function(e){return n[o].call(t,e)}))}))}function d(t,base){var e=base.getBoundingClientRect();return{left:t.clientX-e.left,top:t.clientY-e.top}}var l={mixins:[o],props:{disabled:Boolean},data:function(){return{isDrag:!1}},events:{mousedown:function(t){return this.dragStart(t,this.offsetByMouse)},mousemove:function(t){return this.dragMove(t,this.offsetByMouse)},mouseup:function(t){return this.dragEnd(t,this.offsetByMouse)},touchstart:function(t){return this.dragStart(t,this.offsetByTouch)},touchmove:function(t){return this.dragMove(t,this.offsetByTouch)},touchend:function(t){return this.dragEnd(t,this.offsetByTouch)},touchcancel:function(t){return this.dragEnd(t,this.offsetByTouch)}},methods:{isInTarget:function(t){return!!t&&(t===this.$el||this.isInTarget(t.parentElement))},offsetByMouse:function(t){return d(t,this.$el)},offsetByTouch:function(t){return d(0===t.touches.length?t.changedTouches[0]:t.touches[0],this.$el)},dragStart:function(t,e){this.disabled||void 0!==t.button&&0!==t.button||!this.isInTarget(t.target)||(t.preventDefault(),this.isDrag=!0,this.$emit("dragstart",t,e(t),this.$el))},dragMove:function(t,e){this.isDrag&&(t.preventDefault(),this.$emit("drag",t,e(t),this.$el))},dragEnd:function(t,e){this.isDrag&&(t.preventDefault(),this.isDrag=!1,this.$emit("dragend",t,e(t),this.$el))}},render:function(){return this.$slots.default&&this.$slots.default[0]}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"range-slider",class:{disabled:t.disabled}},[n("drag-helper",{attrs:{disabled:t.disabled},on:{dragstart:t.dragStart,drag:t.drag,dragend:t.dragEnd}},[n("span",{ref:"inner",staticClass:"range-slider-inner"},[n("input",{staticClass:"range-slider-hidden",attrs:{type:"text",name:t.name,disabled:t.disabled},domProps:{value:t.actualValue}}),t._v(" "),n("span",{staticClass:"range-slider-rail"}),t._v(" "),n("span",{staticClass:"range-slider-fill",style:{width:t.valuePercent+"%"}}),t._v(" "),n("span",{ref:"knob",staticClass:"range-slider-knob",style:{left:t.valuePercent+"%"}},[t._t("knob")],2)])])],1)},staticRenderFns:[],props:{name:String,value:[String,Number],disabled:{type:Boolean,default:!1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},step:{type:[String,Number],default:1}},data:function(){return{actualValue:null,dragStartValue:null}},created:function(){var t=this._min,e=this._max,n=Number(this.value);(null==this.value||isNaN(n))&&(n=t>e?t:(t+e)/2),this.actualValue=this.round(n)},computed:{_min:function(){return Number(this.min)},_max:function(){return Number(this.max)},_step:function(){return Number(this.step)},valuePercent:function(){return(this.actualValue-this._min)/(this._max-this._min)*100}},watch:{value:function(t){var e=Number(t);null==t||isNaN(e)||(this.actualValue=this.round(e))},min:function(){this.actualValue=this.round(this.actualValue)},max:function(){this.actualValue=this.round(this.actualValue)}},methods:{dragStart:function(t,e){this.dragStartValue=this.actualValue,t.target!==this.$refs.knob&&this.drag(t,e)},drag:function(t,e){var n=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(e.left,n)),this.emitInput(this.actualValue)},dragEnd:function(t,e){var n=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(e.left,n)),this.dragStartValue!==this.actualValue&&this.emitChange(this.actualValue)},emitInput:function(t){this.$emit("input",t)},emitChange:function(t){this.$emit("change",t)},valueFromBounds:function(t,e){return t/e*(this._max-this._min)+this._min},round:function(t){return function(t,e,n,o){if(t<=e)return e;var r=Math.floor((n-e)/o)*o+e;if(t>=r)return r;var c=(t-e)/o,d=Math.floor(c),l=c-d;return 0===l?t:l<.5?o*d+e:o*(d+1)+e}(t,this._min,this._max,this._step)}},components:{DragHelper:l}};t.exports=m},358:function(t,e,n){var content=n(359);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("ccf3550a",content,!0,{sourceMap:!1})},359:function(t,e,n){(e=n(35)(!1)).push([t.i,".range-slider{display:inline-block;padding:0 10px;height:20px;width:100%}.range-slider.disabled{opacity:.5}.range-slider-inner{display:inline-block;position:relative;height:100%;width:100%}.range-slider-fill,.range-slider-rail{display:block;position:absolute;top:50%;left:0;height:8px;border-radius:2px;transform:translateY(-50%)}.range-slider-rail{width:100%;background-color:#e2e2e2}.range-slider-fill{background-color:#f7632e}.range-slider-knob{display:block;position:absolute;top:50%;left:0;box-sizing:border-box;height:20px;width:20px;border:1px solid #f5f5f5;border-radius:50%;background-color:#fff;box-shadow:1px 1px rgba(0,0,0,.2);transform:translate(-50%,-50%);cursor:pointer}.range-slider-hidden{display:none}",""]),t.exports=e},388:function(t,e,n){var content=n(471);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("66c231a6",content,!0,{sourceMap:!1})},389:function(t,e,n){var content=n(473);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(36).default)("5394be2e",content,!0,{sourceMap:!1})},390:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},391:function(t,e,n){t.exports=n.p+"img/arrow.bbd4c27.png"},470:function(t,e,n){"use strict";var o=n(388);n.n(o).a},471:function(t,e,n){(e=n(35)(!1)).push([t.i,'.container[data-v-5045d29e]{margin:0 auto;min-height:100vh}.container[data-v-5045d29e],.smallcontainer[data-v-5045d29e]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:space-around;align-items:flex-start;align-content:center;justify-content:space-between}.smallcontainer[data-v-5045d29e]{margin:10px;text-align:center}.login[data-v-5045d29e]{margin-top:10px;min-height:10vh;display:flex;flex-direction:column;flex-wrap:wrap;align-items:center;align-content:center;justify-content:space-between;width:100%}.element[data-v-5045d29e]{background:#f7f7f7;border:1px solid #707070;padding:0 0 0 10px;border-radius:15px;display:flex;flex:0 0 50%;flex-wrap:wrap;width:400px}.pasos h2[data-v-5045d29e]:before{content:"";display:inline-block;width:28px;height:51px;background:#851819;margin-right:10px;position:relative;top:16px}.pasos h2[data-v-5045d29e]{font-weight:700;font-size:28px}.pasos h2 .paso-subtitle[data-v-5045d29e]{font-weight:100}.banner[data-v-5045d29e],.banner img[data-v-5045d29e]{width:100%}.title[data-v-5045d29e]{font-family:"Quicksand","Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle[data-v-5045d29e]{font-weight:300;font-size:38px;color:#526488;word-spacing:5px;padding-bottom:10px}.links[data-v-5045d29e]{padding-top:15px}.card_home[data-v-5045d29e]{margin:0 20px;position:relative}.card_home img[data-v-5045d29e]{width:100%}#pasos[data-v-5045d29e]{margin:40px 0 80px}#pasos h1[data-v-5045d29e]{color:#5e5e5e;text-align:center;font-size:30px;margin-bottom:30px;font-weight:700}.foot_card[data-v-5045d29e]{color:#fff;background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);text-align:center;padding:10px}figure[data-v-5045d29e]{margin:0}.foot_card h3[data-v-5045d29e]{font-size:15px;font-weight:700;margin:0;padding:0}.foot_card h4[data-v-5045d29e]{font-size:14px;margin:0;padding:0;font-weight:300}button[data-v-5045d29e]{background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);color:#fff;border:none;outline:none;height:38px;border-radius:20px;padding:6px 8px;margin-top:25px;display:block;width:150px;font-weight:700}button[data-v-5045d29e]:hover{background:#3789d3}#ubicar[data-v-5045d29e]{text-align:center;margin:25px 0 40px}.nav-item[data-v-5045d29e]{margin:0}.nav-item a[data-v-5045d29e]{text-decoration:none;color:#aa381a;padding:2px 10px;font-size:13px}.nav-item a[data-v-5045d29e]:active,.nav-item a[data-v-5045d29e]:hover{color:#3789d3}#ubicar button[data-v-5045d29e]{background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);color:#fff;border:none;outline:none;height:38px;border-radius:10px;padding:6px 8px;margin-top:25px}#ubicar input[data-v-5045d29e]{width:100%;margin-top:5px}#ubicar input[data-v-5045d29e]::-moz-placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar input[data-v-5045d29e]:-ms-input-placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar input[data-v-5045d29e]::placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar h2[data-v-5045d29e]{color:#5e5e5e;text-align:center;font-size:26px;margin-bottom:30px;font-weight:700}.input-data[data-v-5045d29e]{margin-top:-7px}#map[data-v-5045d29e]{margin-top:20px}#map button[data-v-5045d29e]{background:#f26424;border-radius:0;margin-top:15px;margin-bottom:20px}#map button span[data-v-5045d29e]{font-weight:700}#resultados[data-v-5045d29e]{padding:0 0 50px}#video[data-v-5045d29e]{margin-bottom:40px}.buscar-instructions[data-v-5045d29e],.ubicacion-instructions[data-v-5045d29e]{font-style:italic;margin-top:20px;display:block;font-weight:500}.titulo-buscar[data-v-5045d29e]{text-align:left;font-weight:700}@media only screen and (max-width:641px){.card_home[data-v-5045d29e]{margin-bottom:30px}.ubicacion_actual[data-v-5045d29e]{margin-top:20px}.arrow[data-v-5045d29e]:after{display:none}#pasos h1[data-v-5045d29e]{font-size:22px}#ubicar h2[data-v-5045d29e]{font-size:20px}.input-data[data-v-5045d29e]{margin-top:10px}}',""]),t.exports=e},472:function(t,e,n){"use strict";var o=n(389);n.n(o).a},473:function(t,e,n){var o=n(35),r=n(390),c=n(391);e=o(!1);var d=r(c);e.push([t.i,'.banner[data-v-1e2dd644],.banner img[data-v-1e2dd644]{width:100%}.title[data-v-1e2dd644]{font-family:"Quicksand","Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle[data-v-1e2dd644]{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links[data-v-1e2dd644]{padding-top:15px}.card_home[data-v-1e2dd644]{margin:0 20px;position:relative}.arrow[data-v-1e2dd644]:after{content:"";display:block;width:30px;height:30px;position:absolute;background:url('+d+");background-repeat:no-repeat;background-size:contain;top:131px;right:-55px}.card_home img[data-v-1e2dd644]{width:100%}#pasos[data-v-1e2dd644]{margin:40px 0 80px}#pasos h1[data-v-1e2dd644]{color:#5e5e5e;text-align:center;font-size:30px;margin-bottom:30px;font-weight:700}.foot_card[data-v-1e2dd644]{color:#fff;background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);text-align:center;padding:10px}figure[data-v-1e2dd644]{margin:0}.foot_card h3[data-v-1e2dd644]{font-size:15px;font-weight:700;margin:0;padding:0}.foot_card h4[data-v-1e2dd644]{font-size:14px;margin:0;padding:0;font-weight:300}#ubicar[data-v-1e2dd644]{text-align:center;margin:25px 0 40px}#ubicar button[data-v-1e2dd644]{background:#f7632e;background:radial-gradient(circle,#f7632e 0,#b52222 100%);color:#fff;border:none;outline:none;height:38px;border-radius:10px;padding:6px 8px;margin-top:25px}#ubicar input[data-v-1e2dd644]{width:100%;margin-top:5px}#ubicar input[data-v-1e2dd644]::-moz-placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar input[data-v-1e2dd644]:-ms-input-placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar input[data-v-1e2dd644]::placeholder{font-style:italic;font-weight:300;padding-left:10px}#ubicar h2[data-v-1e2dd644]{color:#5e5e5e;text-align:center;font-size:26px;margin-bottom:30px;font-weight:700}.input-data[data-v-1e2dd644]{margin-top:-7px}#map[data-v-1e2dd644]{margin-top:20px}#map button[data-v-1e2dd644]{background:#f26424;border-radius:0;margin-top:15px;margin-bottom:20px}#map button span[data-v-1e2dd644]{font-weight:700}#resultados[data-v-1e2dd644]{padding:0 0 50px}#video[data-v-1e2dd644]{margin-bottom:40px}.buscar-instructions[data-v-1e2dd644],.ubicacion-instructions[data-v-1e2dd644]{font-style:italic;margin-top:20px;display:block;font-weight:500}.titulo-buscar[data-v-1e2dd644]{text-align:left;font-weight:700}@media only screen and (max-width:641px){.card_home[data-v-1e2dd644]{margin-bottom:30px}.ubicacion_actual[data-v-1e2dd644]{margin-top:20px}.arrow[data-v-1e2dd644]:after{display:none}#pasos h1[data-v-1e2dd644]{font-size:22px}#ubicar h2[data-v-1e2dd644]{font-size:20px}.input-data[data-v-1e2dd644]{margin-top:10px}}",""]),t.exports=e},515:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner"},[e("img",{attrs:{src:n(355)}})])}],r=(n(4),n(2),n(6),n(19),n(44),n(17)),footer=n(351),c=(n(7),n(5),n(16),n(0)),d=n(364),l=n(365),m=n(360),f=n.n(m);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}Object(d.c)("eager"),Object(d.b)("required",v(v({},l.b),{},{message:"{_field_} no puede estar en vacio"})),Object(d.b)("email",v(v({},l.a),{},{message:"{_field_} debe ser un correo electrónico válido"}));var x={name:"login",components:{ValidationProvider:d.a},head:function(){},data:function(){return{axiosError:{id:"",message:""},email:"",password:"",captcha:!1,dismissSecs:10,dismissCountDown:0,dismissCountDownAxios:0,showDismissibleAlert:!1,user:{firstname:"",lastname:"",token:"",username:"",id:0,role:"",email:"",confirmed:!1,bocked:!1,provider:""}}},mounted:function(){},computed:{},methods:{doLogin:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.email.length&&0!=t.password.length&&t.captcha){e.next=3;break}return t.dismissCountDown=t.dismissSecs,e.abrupt("return");case 3:return e.next=5,t.validateCredentials();case 5:case"end":return e.stop()}}),e)})))()},countDownChanged:function(t){this.dismissCountDown=t},countDownAxiosChanged:function(t){this.dismissCountDownAxios=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},validateCredentials:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjI0ODM0ODU0LCJleHAiOjE2Mjc0MjY4NTR9.f92_JmR40Xq4VIBFJGpvEk9i4mK8874zgFYZ3uUu2gM",e.next=4,f()({method:"POST",url:"".concat("https://strapi.constructorespositivos.com/graphql"),headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json",Authentication:"".concat("Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjI0ODM0ODU0LCJleHAiOjE2Mjc0MjY4NTR9.f92_JmR40Xq4VIBFJGpvEk9i4mK8874zgFYZ3uUu2gM")},data:{query:'mutation($identifier: String!, $password: String!) {\n                          login(input: {identifier: $identifier, password: $password, provider: "local"}) {\n                              jwt,\n                              user{\n                                username\n                                email\n                                id\n                                role{\n                                  name\n                                  description\n                                }\n                              }\n                          }\n                      }',variables:{identifier:t.email,password:t.password}}});case 4:return n=e.sent,e.next=7,t.$hasAxiosErrors(n.data);case 7:if(t.axiosError=e.sent,0==Object.keys(t.axiosError).length){e.next=11;break}return t.dismissCountDownAxios=t.dismissSecs,e.abrupt("return");case 11:return e.prev=11,t.user.token=n.data.data.login.jwt,t.user.username=n.data.data.login.user.username,t.user.id=n.data.data.login.user.id,t.user.role=n.data.data.login.user.role.name,t.user.email=n.data.data.login.user.email,t.loading=!1,e.next=20,t.getUser();case 20:if(e.sent){e.next=22;break}return e.abrupt("return");case 22:return e.next=25,t.$store.commit("auth/USER_LOGIN",t.user);case 25:localStorage.setItem("user",JSON.stringify(t.user));case 26:window.location.replace("/"),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(11),console.log("Post Axios Error: ".concat(JSON.stringify(e.t0)));case 32:e.next=40;break;case 34:return e.prev=34,e.t1=e.catch(0),e.next=38,t.$hasAxiosErrors(n.data);case 38:t.axiosError=e.sent,0!=Object.keys(t.axiosError).length&&(t.dismissCountDownAxios=t.dismissSecs);case 40:case"end":return e.stop()}}),e,null,[[0,34],[11,29]])})))()},getUser:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjI0ODM0ODU0LCJleHAiOjE2Mjc0MjY4NTR9.f92_JmR40Xq4VIBFJGpvEk9i4mK8874zgFYZ3uUu2gM",e.prev=1,e.next=4,f()({method:"POST",url:"".concat("https://strapi.constructorespositivos.com/graphql"),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Headers":"Origin,Authorization,Credentials,Content-Type,Accept",Accept:"application/json","Content-Type":"application/json",Authorization:"".concat("Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjI0ODM0ODU0LCJleHAiOjE2Mjc0MjY4NTR9.f92_JmR40Xq4VIBFJGpvEk9i4mK8874zgFYZ3uUu2gM")},data:{query:"query($id: ID!) {\n                          user(id: $id) {\n                                firstname\n                                lastname\n                                provider\n                                confirmed\n                                blocked\n                                role{\n                                  id\n                                  name\n                                }\n                          }\n                      }",variables:{id:t.user.id}}});case 4:return n=e.sent,e.next=7,t.$hasAxiosErrors(n.data);case 7:if(t.axiosError=e.sent,0==Object.keys(t.axiosError).length){e.next=11;break}return t.dismissCountDownAxios=t.dismissSecs,e.abrupt("return",!1);case 11:return e.prev=11,t.user.firstname=n.data.data.user.firstname,t.user.lastname=n.data.data.user.lastname,t.user.blocked=n.data.data.user.blocked,t.user.confirmed=n.data.data.user.confirmed,t.user.provider=n.data.data.user.provider,t.loading=!1,e.abrupt("return",!0);case 21:e.prev=21,e.t0=e.catch(11),console.log("Post axios error: ".concat(JSON.stringify(e.t0)));case 24:e.next=32;break;case 26:return e.prev=26,e.t1=e.catch(1),e.next=30,t.$hasAxiosErrors(e.t1);case 30:t.axiosError=e.sent,0!=Object.keys(t.axiosError).length&&(t.dismissCountDownAxios=t.dismissSecs);case 32:case"end":return e.stop()}}),e,null,[[1,26],[11,21]])})))()}},apollo:{}},w=(n(470),n(18)),y=Object(w.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"cont"},[n("div",{staticClass:"login pasos"},[n("h3",{staticClass:"subtitle"},[t._v("ACCEDER")]),t._v(" "),n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.doLogin(e)}}},[n("validation-provider",{attrs:{name:"Correo",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,r=e.valid;return[n("b-form-group",[n("b-form-input",{staticClass:"element",attrs:{id:"email-input",placeholder:"* Correo Electrónico",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("b-form-invalid-feedback",{attrs:{state:r}},t._l(o,(function(e,o){return n("span",{key:o},[t._v(t._s(e))])})),0)],1)]}}])}),t._v(" "),n("validation-provider",{attrs:{name:"Contraseña",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,r=e.valid;return[n("b-form-group",[n("b-form-input",{staticClass:"element",attrs:{id:"password-input",placeholder:"* Contraseña",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("b-form-invalid-feedback",{attrs:{state:r}},t._l(o,(function(e,o){return n("span",{key:o},[t._v(t._s(e))])})),0)],1)]}}])}),t._v(" "),n("b-form-group",[n("b-form-checkbox",{attrs:{id:"checkbox-captcha",name:"captcha-1",value:"true","unchecked-value":"false",switch:""},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}},[n("p",[t._v("No soy un robot")])])],1),t._v(" "),n("div",{staticClass:"smallcontainer"},[n("b-button",{on:{click:t.doLogin}},[t._v("INICIAR SESION")]),t._v(" "),n("b-alert",{attrs:{show:t.dismissCountDownAxios,dismissible:"",variant:"light"},on:{dismissed:function(e){t.dismissCountDownAxios=0},"dismiss-count-down":t.countDownAxiosChanged}},[n("p",[t._v("Error: "+t._s(t.axiosError.message))]),t._v(" "),n("b-progress",{attrs:{variant:"danger",max:t.dismissSecs,value:t.dismissCountDownAxios,height:"4px"}})],1),t._v(" "),n("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"light"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[n("p",[t._v("Los datos no estan completos o no resolvio el captcha...")]),t._v(" "),n("b-progress",{attrs:{variant:"danger",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1),t._v(" "),n("div",{staticClass:"smallcontainer"},[n("div",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/authentication/forgot"}},[t._v("Olvidaste tu contraseña?")])],1)]),t._v(" "),n("div",{staticClass:"smallcontainer"},[n("div",{staticClass:"nav-item"},[n("nuxt-link",{attrs:{to:"/authentication/signup"}},[t._v("CREAR CUENTA")])],1)])],1)])])}),[],!1,null,"5045d29e",null).exports,k=n(357),_=n.n(k),C=(n(358),{components:{footerPage:footer.default,RangeSlider:_.a,loginPage:y},data:function(){return{nombre:"",apellido:"",email:"",nameState:null,lastnameState:null,emailState:null,distancia:1,mapCenter:{lat:-.1984136,lng:-78.495783},markers:[{position:{lat:-.1984196,lng:-78.495753}}],proyectos:[],proyecto_id_string:"",proyectos_detallados:[],resultados_proyectos:!1,lat:-.18558429549488542,long:-78.48053330227975,loading:!1,registroShow:!1,registrado:!1,website:"",ubicacion:"",autocomplete:null}},methods:{checkFormValidity:function(){var t=this.$refs.form.checkValidity();return this.nameState=t,t},mostrarResultados:function(){this.loading=!0,this.$ga.event({eventCategory:"proyectos",eventAction:"buscar"}),this.getProyectosCercanos()},getUserLocation:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getUserLocation"),e.prev=1,e.next=4,t.$getLocation({enableHighAccuracy:!0});case 4:n=e.sent,t.mapCenter=n,t.lat=t.mapCenter.lat,t.long=t.mapCenter.lng,console.log(n),t.gotoMyLocation(),t.getGeoCode(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.noLocation=!0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()},gotoMyLocation:function(){var map=this.$refs.gMap.map,t=map.markers[0];map.setCenter(new google.maps.LatLng(this.lat,this.long)),t.setPosition(new google.maps.LatLng(this.lat,this.long))},getProyectosCercanos:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.proyectos="",e.prev=1,e.next=4,f()({method:"POST",url:"https://api.constructorespositivos.com/api-web",headers:{"Access-Control-Allow-Origin":"*"},data:{query:"{\n                proyectosCercanos(latitude:".concat(t.lat,", longitude: ").concat(t.long,", distance: ").concat(t.distancia,") {\n                        id\n                        nombre\n                        informacion\n                        slug\n                        latitude\n                        longitude\n                        amenities\n                        email_proyecto\n                        website_proyecto\n                        desde\n                        hasta\n                        nombre_contacto\n                        telefono_contacto\n                        Constructora{\n                          nombre_constructora\n                      }\n                        files{\n                              uploadFile {\n                                url\n                              }\n                            }\n                  }\n                    }    ")}});case 4:n=e.sent;try{data=n.data.data.proyectosCercanos,t.proyectos=data,t.clearMarkers(),t.addMarkers(t.proyectos),t.resultados_proyectos=!0,t.loading=!1}catch(t){}e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getLatLongMap:function(){this.$refs.gMap.map;var t=this.$refs.gMap.map.getCenter();this.lat=t.lat(),this.long=t.lng(),this.$refs.gMap.map.markers[0].setPosition(new google.maps.LatLng(this.lat,this.long))},getGeoCode:function(){var t=this,e=new google.maps.Geocoder,n={lat:this.lat,lng:this.long};e.geocode({location:n},(function(e,n){if(null!=e&&e[0]){console.log(e);var o=e[0].address_components;o.forEach((function(element){"route"==element.types[0]&&(t.ubicacion=element.long_name)})),o=[]}}))},clearMarkers:function(){for(var i=1;i<this.markers.length;i++)this.markers[i].setMap(null);this.markers.length=1},addMarkers:function(t){var e=this,map=this.$refs.gMap.map;t.forEach((function(element){var t=new google.maps.LatLng(element.latitude,element.longitude),marker=new google.maps.Marker({position:t,map:map,title:element.nombre});e.markers.push(marker);var n=new google.maps.InfoWindow;google.maps.event.addListener(marker,"click",(function(){var t;t=element.files.length>0?'<img style="max-width:200px" src="https://strapi.constructorespositivos.com'.concat(element.files[0].uploadFile.url,'"/>'):"",n.setContent('<div style="text-align:left;font-weight:bold">'.concat(element.nombre,'</div><div style="text-align:left"><span style="font-weight:bold">Constructora: </span>').concat(element.Constructora.nombre_constructora,'</div><div style="text-align:left"><span style="font-weight:bold">Precios desde:</span> $').concat(element.desde,"</div>").concat(t,"<div></div>")),n.open(map,this)}))}))},showRegistro:function(t){console.log("show registro"+t),this.website=t,this.registrado?window.open(this.website):this.registroShow=!0},handleSubmit:function(){var t=this;console.log("submit"),this.checkFormValidity()&&(this.$store.commit("subscribe/SET_EMAIL",this.email),localStorage.setItem("user_email",this.email),this.$nextTick((function(){t.$bvModal.hide("modal-prevent-closing"),t.registroShow=!1,t.registrado=!0,t.sendData()})))},sendData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("sending data"),(n=new FormData).append("nombre",t.nombre),n.append("apellido",t.apellido),n.append("email",t.email),"createUser",o={headers:{"Content-Type":"text/plain"}},f.a.post("https://fmwlab.com/constructores/api/usuarios.php?actions=createUser",n,o).then((function(e){return window.open(t.website)}));case 8:case"end":return e.stop()}}),e)})))()},checkData:function(t){},handleOk:function(t){t.preventDefault(),this.handleSubmit()},closeVideo:function(){this.video=!1},autoComplete:function(){var t=this;null==this.autocomplete&&null!=google&&(this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("ubicacionSearch"),{componentRestrictions:{country:"ec"}}),google.maps.event.addListener(this.autocomplete,"place_changed",(function(){var e=t.autocomplete.getPlace();null!=e.address_components&&(t.lat=e.geometry.location.lat(),t.long=e.geometry.location.lng(),t.ubicacion=e.name,t.$refs.gMap.map.setCenter(new google.maps.LatLng(t.lat,t.long)),t.$refs.gMap.map.markers[0].setPosition(new google.maps.LatLng(t.lat,t.long)))})))},onKeyUpEnterCompleteSearch:function(){var t=this,e={input:this.ubicacion},n=new google.maps.places.AutocompleteService,o=new google.maps.Geocoder;n.getPlacePredictions(e,(function(e,n){n==google.maps.places.PlacesServiceStatus.OK&&(console.log(e[0]),o.geocode({placeId:e[0].place_id},(function(e,n){n==google.maps.GeocoderStatus.OK&&(t.lat=e[0].geometry.location.lat(),t.long=e[0].geometry.location.lng())})))}))}},computed:{latlong:function(){return"Lat:".concat(this.lat,", Long:").concat(this.long)},isLogged:function(){try{return 0!==Object.keys(localStorage.getItem("user")).length}catch(t){return!1}}},watch:{ubicacion:function(t,e){""==e&&null==this.autocomplete&&this.autoComplete()}},mounted:function(){null!=localStorage.getItem("user_email")&&(this.registrado=!0)}}),S=(n(472),Object(w.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"cont"},[n("b-modal",{attrs:{title:"Déjanos tus datos"},on:{ok:t.handleOk},model:{value:t.registroShow,callback:function(e){t.registroShow=e},expression:"registroShow"}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[n("b-form-group",{attrs:{label:"Nombre","label-for":"name-input","invalid-feedback":"El nombre es requerido",state:t.nameState}},[n("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:""},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Apellido","label-for":"last-input","invalid-feedback":"El apellido es requerido",state:t.lastnameState}},[n("b-form-input",{attrs:{id:"last-input",state:t.lastnameState,required:""},model:{value:t.apellido,callback:function(e){t.apellido=e},expression:"apellido"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Email","label-for":"email-input","invalid-feedback":"El Email es requerido"}},[n("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:"@",state:t.emailState}},[n("b-form-input",{attrs:{id:"email-input",state:t.emailState,type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"container"},[n("login-page")],1),t._v(" "),n("section",[n("footerPage")],1)],1)}),o,!1,null,"1e2dd644",null));e.default=S.exports}}]);